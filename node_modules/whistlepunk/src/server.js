var fs = require( "fs" );
var path = require( "path" );
var _ = require( "lodash" );

function getAdapters() {
	var adapterPath = path.resolve( __dirname, "./serverAdapters" );
	var files = fs.readdirSync( adapterPath );
	return _.reduce( files, function( acc, file ) {
		acc[ file.split( "." )[ 0 ] ] = require.resolve( path.join( adapterPath, file ) );
		return acc;
	}, {} );
}

var builtIn = getAdapters();
